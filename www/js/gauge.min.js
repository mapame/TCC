!function(e){var n,o,N,S,t=(o=(n=e).document,N=Array.prototype.slice,S=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},function(){var r="http://www.w3.org/2000/svg",R={centerX:50,centerY:50},V={dialRadius:40,dialStartAngle:135,dialEndAngle:45,value:0,max:100,min:0,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",needleIndicator:!1,needleAngle:2,showValue:!0,gaugeColor:null,label:function(e){return Math.round(e)}};function E(e,n,t){var a=o.createElementNS(r,e);for(var i in n)a.setAttribute(i,n[i]);return t&&t.forEach(function(e){a.appendChild(e)}),a}function q(e,n){return e*n/100}function F(e,n,t,a){var i=a*Math.PI/180;return{x:Math.round(1e3*(e+t*Math.cos(i)))/1e3,y:Math.round(1e3*(n+t*Math.sin(i)))/1e3}}return function(e,r){r=function(){var t=arguments[0];return N.call(arguments,1).forEach(function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t}({},V,r);var o,l,n,t=e,s=r.max,u=r.min,a=r.value,d=r.dialRadius,c=r.showValue,f=r.dialStartAngle,m=r.dialEndAngle,i=r.valueDialClass,v=r.valueClass,g=(r.valueLabelClass,r.dialClass),h=r.gaugeClass,w=r.needleIndicator,p=r.needleAngle,A=r.color,x=r.label,b=r.viewBox;if(f<m){console.log("WARN! startAngle < endAngle, Swapping");var y=f;f=m,m=y}function C(e,n,t,a){var i=function(e,n,t){var a=R.centerX,i=R.centerY;return{end:F(a,i,e,t),start:F(a,i,e,n)}}(e,n,t),r=i.start,o=i.end,l=void 0===a?1:a;return["M",r.x,r.y,"A",e,e,0,l,1,o.x,o.y].join(" ")}function M(e,n){var t=function(e,n,t){return 100*(e-n)/(t-n)}(function(e,n,t){var a=Number(e);return t<a?t:a<n?n:a}(e,u,s),u,s),a=q(t,360-Math.abs(f-m)-(w?p:0)),i=w||a<=180?0:1;c&&(o.textContent=x.call(r,e)),l.setAttribute("d",C(d,f+(w?a:0),f+a+(w?p:0),i))}function k(e,n){var t=A.call(r,e),a=1e3*n,i="stroke "+a+"ms ease";l.style.stroke=t,l.style["-webkit-transition"]=i,l.style["-moz-transition"]=i,l.style.transition=i}return(p<1||180<p)&&(console.log("WARN! needleAngle must be between 1 and 180"),p=2),n={setMaxValue:function(e){s=e},setValue:function(e){a=e,A&&k(e,0),M(e)},setValueAnimated:function(e,n){var t=a;t!==(a=e)&&(A&&k(a,n),function(e){var n=e.duration,a=1,i=60*n,r=e.start||0,o=e.end-r,l=e.step,s=e.easing||function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};S(function e(){var n=a/i,t=o*s(n)+r;l(t,a),a+=1,n<1&&S(e)})}({start:t||0,end:a,duration:n||1,step:function(e,n){M(e,n)}}))},getValue:function(){return a}},function(e){o=E("text",{x:50,y:45,fill:"#999",class:v,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}),l=E("path",{class:i,fill:"none",stroke:"#666","stroke-width":2.5,d:C(d,f,f)});var n=q(100,360-Math.abs(f-m)),t=E("svg",{viewBox:b||"0 0 100 100",class:h},[E("path",{class:g,fill:"none",stroke:"#eee","stroke-width":2,d:C(d,f,m,n<=180?0:1)}),E("g",{class:"text-container"},[o]),l]);e.appendChild(t)}(t),n.setValue(a),n}}());"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.Gauge=t}("undefined"==typeof window?this:window);
